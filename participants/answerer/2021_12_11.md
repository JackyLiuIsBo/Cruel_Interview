>作者：derrors
链接：https://www.nowcoder.com/discuss/774264?source_id=discuss_experience_nctrack&channel=-1
来源：牛客网

C++ 基础

一个 C++ 程序从代码实现到运行要经过哪些阶段？每个阶段有什么作用？

这里面试官主要是想问编译的那部分知识，所以就详细回答了预处理-编译-汇编-链接四个过程的原理。

为了使程序编译运行后效率高一些，在编程时需要注意哪些问题？

刚听到这个问题的时候很懵，完全不知道面试官在问什么，然后就问面试官需要在哪些方面来考虑，面试官说从编译器优化的角度来回答，想了半天，想起来在深入理解计算机原理书上好像有优化的一些方法，所以就回答了：循环外移、减少函数调用、避免内存引用和提高并行化这几个方面，还列举了个简单的代码例子，面试官说回答地不错就继续下一个问题了。

C++ 中的 new/delete 函数与 malloc/free 的区别？

主要是前者会调用相关对象的构造、析构函数，后者不会，前者不需要指定申请/释放的内存的大小，后者需要指定等。

面试官追问：使用 new 申请内存失败会怎么样？

答：会抛出异常。

问：如果我想使得申请失败后返回一个空指针，需要怎么做？

答：使用 nothrow new 来申请内存。

虚函数的原理和实现？

构造函数能否声明为虚函数或者纯虚函数，析构函数呢？

析构函数可以为虚函数，并且一般情况下基类析构函数要定义为虚函数，只有在基类析构函数定义为虚函数时，调用操作符 delete 销毁指向对象的基类指针时，才能准确调用派生类的析构函数（从该级向上按序调用虚函数），才能准确销毁数据。

构造函数不能定义为虚函数。在构造函数中可以调用虚函数，不过此时调用的是正在构造的类中的虚函数，而不是子类的虚函数，因为此时子类尚未构造好。虚函数对应一个 vtable (虚函数表)，类中存储一个 vptr 指向这个 vtable。如果构造函数是虚函数，就需要通过 vtable 调用，可是对象没有初始化就没有 vptr，无法找到 vtable，所以构造函数不能是虚函数。

为什么父类的析构函数必须是虚函数？

如果析构函数不被声明成虚函数，那么编译器将实施静态绑定，在删除基类指针时，只会调用基类的析构函数而不会调用派生类析构函数，这样就会造成派生类对象析构不完全，造成内存泄漏。

### 计算机网络

GET 和 POST 的区别？
- A: 1. 语义不同，不能随便混用 2. get发送一个TCP数据包，post发送两个TCP数据包。用途不同：get一般用来获取数据，post用来提交数据，get是用来获取服务器数据，请求报文传输的是参数，返回的才是数据；
post是用来传送数据的，传送的本身是数据，返回的是结果

TCP 拥塞控制原理？
- A: 四个算法：慢启动，拥塞避免，快速重传，快恢复。

Cookie 和 Session 的原理分别是什么？
- A: session是一个抽象概念，开发者为了实现中断和连续的功能，将user agent和server之间的一对一交互抽象为会话，进而衍生出
会话状态，就是session。 cookie是一个实际存在的东西，http协议定义在header中的字段。cookie可以认为是session的一种后端无状态实现。

TCP 粘包和粘包分别是什么？

粘包：在进行数据传输时，发送端一次性连续发送多个数据包，TCP 协议将多个数据包打包成一个 TCP 报文发送出去；

拆包：当发送端发送的数据包长度超过一次 TCP 报文所能传输的最大值时，就会将该数据包拆分成多个 TCP 报文分开传输。

问：如何解决粘包和拆包问题？

答：（1）设置消息定长（2）头部添加消息长度（3）消息尾部添加特殊字符进行分割（4）将消息分为消息头和消息尾。

### 操作系统

内存管理自由链表和内存池讲一下
- A: 盲区

这个问题回答的不太好，记得在学习 STL 内存配置器时候学过，不过太久没看了忘了好多。

虚拟内存原理？
- A: 为每个程序设置一段"连续"的虚拟地址空间，把这个地址空间分为多个具有连续地址范围的页，并把这些页和物理地址做映射，
在程序运行期间动态映射到物理空间

逻辑地址怎么转换成物理地址？
- A: 逻辑地址的格式是段地址：偏移地址。逻辑地址和物理地址的换算为：段地址 * 16 + 偏移地址 = 物理地址