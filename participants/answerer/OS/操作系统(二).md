### 1.协程的轻量级体现在哪里？
- 协程调用和切换效率比线程高：协程执行效率极高，协程不需要多线程的锁机制，可以不加锁的访问全局变量，所以上下文
切换非常快
- 协程占用内存少：协程占用的栈空间大小为4~5kB，而线程默认的栈空间是1MB
- 切换开销更小：协程直接操作栈没有内核切换的开销，所以切换开销比线程小

### 2. 线程间同步的方式有哪些？

线程间的同步方式包括互斥量，信号量，条件变量，读写锁

- 互斥量：采用互斥对象机制，只有拥有互斥对象的进程才能访问
- 信号量：计数器，允许多个进程同时访问同个资源
- 条件变量：通过条件变量通知操作的方式来保持多线程同步
- 读写锁：读写锁类似于互斥量，但是读写锁支持一个进程同时写，多个进程同时读

### 3. 进程间通信方式有哪些？

- 管道：包括无名管道和命名管道，无名管道半双工，只能用于存在亲缘关系的进程间的通信，可以看做是一种特殊的文件；命名
管道可以允许无亲缘关系的进程间的通信
- 系统IPC：包括消息队列（消息的链接表，放在内核中），信号量（用于实现进程间的互斥与同步），信号（用于通知接收进程某个事件的发生），
内存共享（使多个进程访问同一个内存空间）
- socket套接字：用于不同主机之间直接的通信

### 4. 线程相比进程的区别？

- 多个进程之间的信息难以共享，但是线程共享同个进程的内存，如代码段，数据段，扩展段等之间进行信息交换十分方便
- 使用fork（）来创建进程的开销较大。创建线程时间开销远小于进程，无需采用写时复制来复制内存，也无需复制页表

### 5. 在单核机器上写多线程程序是否需要线程锁？

- 需要。因为线程锁通常用来实现线程的同步与通信。在单核机器上，仍然可能会存在线程的同步问题。因为在抢占式系统中，
系统会为每个进程分配一定的时间片，当时间片耗完之后，则会将其挂起，然后运行另一个进程。如果某两个进程共享数据，那么
在不使用线程锁的情况下，也可能会导致数据修改引起冲突
  
### 6. 说说线程池的设计思路，线程池中的线程数量由什么确定？
1. 设计思路：
实现线程池有以下几个步骤：
   - 设置一个生产者消费者队列，作为临界资源
   - 初始化n个进程，让其运行起来，并加锁去队列里取任务执行
   - 当任务队列为空时，所有线程阻塞
   - 当生产者队列来了一个任务后，先对队列加锁，把任务挂到队列上，然后用条件变量通知阻塞中的一个线程来处理。 