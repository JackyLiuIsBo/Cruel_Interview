### 1、最左前缀匹配

> 参考链接：https://blog.csdn.net/u013568373/article/details/93891531

最左前缀匹配原则，是一个非常重要的原则，可以通过以下这几个特性来理解。

对于联合索引，MySQL 会一直向右匹配直到遇到范围查询（> ， < ，between，like）就停止匹配。比如 a = 3 and b = 4 and c > 5 and d = 6，如果建立的是（a,b,c,d）这种顺序的索引，那么 d 是用不到索引的，但是如果建立的是 （a,b,d,c）这种顺序的索引的话，那么就没问题，而且 a，b，d 的顺序可以随意调换。
**= 和 in 可以乱序**，比如 a = 3 and b = 4 and c = 5 建立 （a，b，c）索引可以任意顺序。in同理。
如果建立的索引顺序是 （a，b）那么直接采用 where b = 5 这种查询条件是无法利用到索引的，这一条最能体现最左匹配的特性。

其实可以用如下判断方法：先把sql语句中的where字段中的顺序调整成联合索引的顺序，然后再依次判断 ，遇到范围则停止。

如果联合索引是(a,b,c)，则select * where a=1 and b>30 and c=2会走(a,b)，不会走到c。

如果联合索引是(a,c,b)，则select * where a=1 and b>30 and c=2会走(a,c,b)





system>const>eq_ref>ref>range>index>ALL

越往左边，性能越高，比如system就比ALL类型性能要高出许多，其中system、const只是理想类型，基本达不到；

我们自己实际能优化到ref>range这两个类型，就是你自己写SQL，如果你没优化基本上就是ALL，如果你优化了，那就尽量达到ref>range这两个级别；

这里我强调一下，左边基本达不到！

所以，要对type优化的前提是，你需要有索引，如果你连索引都没有创建，那你就不用优化了，肯定是ALL.....；