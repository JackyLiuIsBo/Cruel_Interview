## 1、写在前面

关于一些乱七八糟的内容。

## 2、问题

### 1、如果Linux下需要打开或者查看大文件,你会怎么做?

在Linux下用VIM打开大小几个G、甚至几十个G的文件时，是非常慢的。

这时，我们可以利用下面的方法分割文件，然后再打开。

1 查看文件的前多少行

`head -10000 /var/lib/mysql/slowquery.log > temp.log`

上面命令的意思是：把slowquery.log文件前10000行的数据写入到temp.log文件中。

2 查看文件的后多少行

`tail -10000 /var/lib/mysql/slowquery.log > temp.log`

上面命令的意思是：把slowquery.log文件后10000行的数据写入到temp.log文件中。

3 查看文件的几行到几行

`sed -n '10,10000p' /var/lib/mysql/slowquery.log > temp.log`

上面命令的意思是：把slowquery.log文件第10到10000行的数据写入到temp.log文件中。



### 2、覆盖索引及优化MySQL语句

> 参考链接：https://www.cnblogs.com/happyflyingpig/p/7662881.html

 覆盖索引是一种非常强大的工具，能大大提高查询性能，只需要读取索引而不需要读取数据，有以下优点：

 1、索引项通常比记录要小，所以MySQL访问更少的数据。

 2、索引都按值得大小存储，相对于随机访问记录，需要更少的I/O。

 3、数据引擎能更好的缓存索引，比如MyISAM只缓存索引。

 **4、覆盖索引对InnoDB尤其有用，因为InnoDB使用聚集索引组织数据，如果二级索引包含查询所需的数据，就不再需要在聚集索引中查找了。**

 **限制：**

 1、覆盖索引也并不适用于任意的索引类型，索引必须存储列的值。

 2、Hash和full-text索引不存储值，因此MySQL只能使用BTree。

 3、不同的存储引擎实现覆盖索引都是不同的，并不是所有的存储引擎都支持覆盖索引。

 4、如果要使用覆盖索引，一定要注意SELECT列表值取出需要的列，不可以SELECT * ，因为如果将所有字段一起做索引会导致索引文件过大，查询性能下降。



### 3、

explain 执行计划中：`Extra: Using index`字段表示没有回表查询，实现了索引覆盖

### 4、进程和线程的区别（标准答案）

> 参考链接：https://blog.csdn.net/WangQYoho/article/details/52598859

进程是操作系统进行资源分配和调度的一个独立单位。

线程是进程的一个实体，是CPU调度和分派的基本单位，它是比进程更小的能独立运行的基本单位。线程自己基本上不拥有系统资源，只拥有一点在运行中必不可少的资源(如程序计数器,一组寄存器和栈)，但是它可与同属一个进程的其他的线程共享进程所拥有的全部资源。

进程在执行过程中拥有独立的内存单元，而该进程的多个线程共享内存。

每个独立的线程有一个程序运行的入口、顺序执行序列和程序的出口。但是线程不能够独立执行，必须依存在应用程序中，由应用程序提供多个线程执行控制。 

从逻辑角度来看，多线程的意义在于一个应用程序中，有多个执行部分可以同时执行。但操作系统并没有将多个线程看做多个独立的应用，来实现进程的调度和管理以及资源分配。这就是进程和线程的重要区别。

进程有4G的虚拟内存空间，线程往往是4M

一个进程中的所有线程共享该进程的地址空间，共有一个进程中的堆空间但它们有各自私有的栈

#### 用户态线程和内核态线程各自的优缺点

