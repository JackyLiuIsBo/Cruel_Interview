## 一、写在前面

字节跳动1面 & 美团2面

> 链接：https://www.nowcoder.com/discuss/838395



## 二、字节跳动

### 1、语言

1.看过Spring的源码吗，开局暴击。 

2.Class.forName()和ClassLoader.loaderClass()有什么区别，开局暴击*2.。 

3.ConcurrentHashMap的原理，为什么是线程安全的，让你设计怎么实现读写安全 

4.Spring事务传播机制的应用 

5.线程安全的单例模式，写完DCL写静态内部类的时候写错了，汗 

### 2、数据库

1、Mysql中有哪些索引，你能想到哪些作为索引的数据结构？

HashMap，B+树，前缀树，面试官提示跳表 

### 3、计算机网络

- http是有状态的吗，tcp呢，为什么http是无状态的 
  - HTTP是一种无状态协议，即服务器不保留与客户交易时的任何状态。上一次的请求对这次的请求没有任何影响，服务端也不会对客户端上一次的请求进行任何记录处理。
  - tcp是有状态的，有状态图，状态之间的转换是通过有穷自动机的原理实现
- HTTP的无状态会带来什么问题？
  - 用户登录后，切换到其他界面，进行操作，服务器端是无法判断是哪个用户登录的。 每次进行页面跳转的时候，得重新登录。
- 如何让http有状态？
  - Cookie-session：Cookie 是服务器生成的，但是发送给客户端，并且由客户端来保存。每次请求加上 Cookie就行了。服务器端发现客户端发送过来的 Cookie 后，会去检查究竟是从哪一个客户端发来的连接请求，然后对比服务器上的记录，最后得到之前的状态信息。
  - Cookie-session机制是有问题的，当我们完全禁掉浏览器的Cookie的时候，服务端的Session也会不能正常使用。解决方案是使用一种叫做 **URL 重写**的技术来进行会话跟踪，即每次HTTP交互，URL后面都会被附加上一个诸如 `sid=xxxxx`这样的参数，服务端据此来识别用户。



### 5、其他

1.OOM问题和StackOverflow有什么区别

2、RPC和微服务框架了解吗

3、正向代理和反向代理



## 三、美团

### 1、语言

1.聊聊sychronized关键字，用法，底层实现，偏向锁，轻量级锁，自旋锁 

2.聊聊偏向锁，轻量级锁的原理和过程 

3.除了sychronized，还有啥，聊聊ReentrantLock，底层一个继承了AQS的实现类 

4.聊聊AQS，volatile修饰的state，加锁过程，公平锁和非公平锁的实现 

5.聊聊ThreadLocal，为什么要用threadLocal，ThreadLocalMap中，key和value分别哪个是强引用，哪个是弱引用，我迷之坚持value是强引用。。。 

### 2、计算机网络

1.TCP和UDP的区别 

2.三次握手和四次挥手的过程，为什么这样 

### 3、操作系统

1.线程的状态以及状态变化过程 

2.CMS和G1的区别 

#### 4、框架

1、聊聊Spring中的动态代理，实现了接口的用JDK动态代理，未实现接口的通过CGlib动态代理，动态代理和静态代理的区别 

2、为什么redis是单线程的？

因为Redis读写数据不涉及到I/O操作，是存内存的数据库。在不涉及IO的情况下，单线程是快于多线程的！因为没有CPU切换

>一个CPU主频是 2.6GHz，这意味着每秒可以执行：2.6*10^9 个指令，那么每个指令的时间大概是0.38ns！而一次上下文切换，将近需要耗时2000ns！

### 5、其他

1、常用设计模式，策略模式的原理和应用	

### 6、算法

1、两个链表代表的大数进行相加

我用两个栈分别保存链表，然后出栈的时候用头插法生成新链表，感觉时间复杂度没有最优，但是也过了